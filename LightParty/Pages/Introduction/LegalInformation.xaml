<Page
    x:Class="LightParty.Pages.Introduction.LegalInformation"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LightParty.Pages.Introduction"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    Loaded="Page_Loaded">

    <Page.Resources>
        <Storyboard x:Name="LegalPageStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="AgreeBorderColor"
                Storyboard.TargetProperty="Opacity"
                EnableDependentAnimation="True"
                From="0" To="1" Duration="0:0:0.5" />
        </Storyboard>
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="100" />
        </Grid.RowDefinitions>

        <Grid x:Name="LegalPage" Grid.Row="0">
            <Grid.TranslationTransition>
                <Vector3Transition />
            </Grid.TranslationTransition>

            <Grid.Background>
                <media:RadialGradientBrush
                    RadiusX="0.5" RadiusY="0.5" Center="1,0"
                    GradientOrigin="1,0">
                    <GradientStop Color="#7FBA00" Offset="0" />
                    <GradientStop Color="Transparent" Offset="1" />
                </media:RadialGradientBrush>
            </Grid.Background>

            <ScrollViewer x:Name="LegalScrollView"
                          Grid.Row="0"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalAlignment="Center"
                          Margin="20,0">
                <Grid Margin="5,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MaxWidth="600" />
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Row="0"
                               Style="{StaticResource MainHeading}"
                               Margin="0,10,0,0"
                               Text="License and Privacy Policy" />

                    <TextBlock Grid.Row="1"
                               Grid.Column="0"
                               Style="{StaticResource ParagraphHeading}"
                               Text="Privacy Policy Summary" />

                    <TextBlock Grid.Row="2"
                               Style="{StaticResource ExtraInformation}"
                               TextWrapping="Wrap">
                        The following text is only a summary of the most important information for the user from my perspective.
                        You also have to read the Privacy Policy itself in order to agree to it.
                        If there are any content-related differences between this summary and the Privacy Policy,
                        the Privacy Policy takes precedence.
                    </TextBlock>

                    <TextBlock Grid.Row="3"
                               Style="{StaticResource Paragraph}"
                               TextWrapping="Wrap"
                               Text="Starting with version 2.2, Light Party does not collect, store, or transmit stand-alone telemetry or analytics to the developer." />

                    <TextBlock Grid.Row="4"
                               Style="{StaticResource Paragraph}"
                               TextWrapping="Wrap"
                               Text="Any data processing that may occur is performed by Microsoft as part of Microsoft Store and/or Windows platform services (for example, if the app was installed via the Microsoft Store, and depending on your Windows privacy and diagnostic settings)." />

                    <TextBlock Grid.Row="5"
                               Style="{StaticResource Paragraph}"
                               TextWrapping="Wrap"
                               Text="Light Party does not collect personal data that could be used by the developer to identify you. The application does not sell or share user data with third parties." />

                    <TextBlock Grid.Row="6" Style="{StaticResource Paragraph}">
                        → <Hyperlink Foreground="{ThemeResource SystemBaseHighColor}"
                                     NavigateUri="https://aka.ms/privacy">Microsoft Privacy Statement</Hyperlink>
                    </TextBlock>

                    <TextBlock Grid.Row="7" Style="{StaticResource Paragraph}">
                        → <Hyperlink Foreground="{ThemeResource SystemBaseHighColor}"
                                     NavigateUri="https://koprolin.com/lightparty/legal/privacypolicy/">Full Privacy Policy</Hyperlink>
                    </TextBlock>

                    <TextBlock Grid.Row="8"
                               Style="{StaticResource ParagraphHeading}"
                               Text="License Summary" />

                    <TextBlock Grid.Row="9"
                               Style="{StaticResource ExtraInformation}"
                               TextWrapping="Wrap">
                        The following text is only a summary of the most important information for the user from my perspective.
                        You also have to read the license itself in order to agree to it.
                        If there are any content-related differences between this summary and the license,
                        the license takes precedence.
                    </TextBlock>

                    <TextBlock Grid.Row="10"
                               Style="{StaticResource Paragraph}"
                               TextWrapping="Wrap">
                        The application Light Party is open source on
                        <Hyperlink Foreground="{ThemeResource ApplicationForegroundThemeBrush}"
                                   NavigateUri="https://github.com/clemenskoprolin/light-party">GitHub</Hyperlink>.
                        Therefore, it uses the GNU Affero General Public License v3.0 (AGPLv3).
                    </TextBlock>

                    <TextBlock Grid.Row="11"
                               Style="{StaticResource Paragraph}"
                               TextWrapping="Wrap">
                        <Hyperlink Foreground="{ThemeResource ApplicationForegroundThemeBrush}"
                                   NavigateUri="https://choosealicense.com/licenses/agpl-3.0/">choosealicense.com</Hyperlink>
                        (by GitHub Inc.) provides a summary of the license.
                    </TextBlock>

                    <TextBlock Grid.Row="12"
                               x:Name="Test"
                               Style="{StaticResource Paragraph}">
                        → <Hyperlink Foreground="{ThemeResource ApplicationForegroundThemeBrush}"
                                     NavigateUri="https://koprolin.com/lightparty/legal/license/license.txt">Full license</Hyperlink>
                    </TextBlock>

                    <!-- Agreement checkbox -->
                    <Grid x:Name="AgreeGrid" Grid.Row="13" Margin="0,10,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Border x:Name="AgreeBorder"
                                Grid.Column="0"
                                BorderThickness="2"
                                Padding="4,0"
                                Margin="-4,0"
                                CornerRadius="3">
                            <Border.BorderBrush>
                                <SolidColorBrush x:Name="AgreeBorderColor" Color="Red" Opacity="0" />
                            </Border.BorderBrush>

                            <CheckBox x:Name="AgreeCheckbox">
                                <CheckBox.Content>
                                    <TextBlock TextWrapping="Wrap">
                                        I agree to the
                                        <Hyperlink Foreground="{ThemeResource ApplicationForegroundThemeBrush}"
                                                   NavigateUri="https://koprolin.com/lightparty/legal/license/license.txt">GNU AGPLv3 license</Hyperlink>
                                        and to the
                                        <Hyperlink Foreground="{ThemeResource ApplicationForegroundThemeBrush}"
                                                   NavigateUri="https://koprolin.com/lightparty/legal/privacypolicy/">Privacy Policy</Hyperlink>.
                                    </TextBlock>
                                </CheckBox.Content>
                            </CheckBox>
                        </Border>
                    </Grid>
                </Grid>
            </ScrollViewer>
        </Grid>

        <!-- Navigation Buttons -->
        <Grid Grid.Row="1"
              Margin="0,0,0,30"
              HorizontalAlignment="Center"
              VerticalAlignment="Bottom">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button x:Name="PreviousButton"
                    Grid.Column="0"
                    Height="50"
                    Width="50"
                    Margin="0,0,10,0"
                    Click="PreviousButton_Click">
                <Button.Content>
                    <SymbolIcon Symbol="Previous" />
                </Button.Content>
            </Button>

            <Button x:Name="NextButton"
                    Grid.Column="1"
                    Height="50"
                    Width="50"
                    Margin="10,0,0,0"
                    Click="NextButton_Click">
                <Button.Content>
                    <SymbolIcon Symbol="Next" />
                </Button.Content>
            </Button>
        </Grid>
    </Grid>
</Page>